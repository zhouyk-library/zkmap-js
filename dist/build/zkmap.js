!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(15)),a=i(n(16)),u=i(n(17));e.default={Matrix2D:s,Browser:a,Objects:u}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Bound=e.Constant=e.WebMercator=e.Transform=e.LngLat=void 0;var o=r(n(9));e.LngLat=o.default;var i=r(n(10));e.Transform=i.default;var s=r(n(19));e.WebMercator=s.default;var a=r(n(20));e.Bound=a.default;var u=r(n(5));e.Constant=u.default},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Evented=e.ErrorEvent=e.Event=void 0;var o=r(n(21));e.Event=o.default;var i=r(n(22));e.ErrorEvent=i.default;var s=r(n(23));e.Evented=s.default},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Painter=e.Render=e.Context=void 0;var o=r(n(11));e.Context=o.default;var i=r(n(12));e.Render=i.default;var s=r(n(13));e.Painter=s.default},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TileState=e.TilesCache=e.Tile=void 0;var o=r(n(14));e.Tile=o.default;var i=r(n(18));e.TilesCache=i.default,function(t){t[t.NONE=0]="NONE",t[t.LOADING=2]="LOADING",t[t.OK=1]="OK",t[t.ERROR=-1]="ERROR"}(e.TileState||(e.TileState={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={minZoom:0,maxZoom:0,maxValidLatitude:85.05112877980659,maxValidlongitude:180,maxMercator:20037508.3427892,tileSize:256,earthRadius:6371008.8}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(7));e.default={map:new o.default({container:"app",type:"2d"})}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(8)),a=n(2),u=n(1),c=n(3),f=i(n(0)),h=function(t){function e(e){var n=this;if(null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");Number.isInteger(e.minZoom)&&Number.isInteger(e.maxZoom)||(e.minZoom=0,e.maxZoom=22);var r=document.createElement("canvas");r.style.cssText="height: 100%; width: 100%";var o=null;if("string"==typeof e.container){if(!(o=window.document.getElementById(e.container)))throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");o=e.container}r.width=o.clientWidth,r.height=o.clientHeight,o.appendChild(r);var i=new u.Transform(r,e.minZoom,e.maxZoom,e.type),s=new c.Render(i);return(n=t.call(this,i,s)||this)._options=e,n._canvas=r,n._container=o,n._bind(),n.resize(),n._render=s,n.triggerRepaint(),n.on("refresh",n.triggerRepaint),n}return o(e,t),e.prototype.resize=function(t){this.transform.resize(this._container.clientWidth,this._container.clientHeight)},e.prototype._update=function(t){},e.prototype._bind=function(){this._canvas.addEventListener("click",this._onClick.bind(this)),this._canvas.addEventListener("dblclick",this._onDoubleClick.bind(this)),this._canvas.addEventListener("mousedown",this._onMouseDown.bind(this)),this._canvas.addEventListener("mousemove",this._onMouseMove.bind(this)),this._canvas.addEventListener("mouseup",this._onMouseUp.bind(this)),this._canvas.addEventListener("wheel",this._onWheel.bind(this))},e.prototype._onClick=function(t){this.fire(new a.Event("click",t))},e.prototype._onDoubleClick=function(t){this.fire(new a.Event("dblclick",t))},e.prototype._onMouseDown=function(t){this.fire(new a.Event("mousedown",t))},e.prototype._onMouseMove=function(t){this.fire(new a.Event("mousemove",t))},e.prototype._onMouseUp=function(t){this.fire(new a.Event("mouseup",t))},e.prototype._onWheel=function(t){this.fire(new a.Event("wheel",t))},e.prototype.destroy=function(){this._canvas.removeEventListener("click",this._onClick),this._canvas.removeEventListener("dblclick",this._onDoubleClick),this._canvas.removeEventListener("mousedown",this._onMouseDown),this._canvas.removeEventListener("mousemove",this._onMouseMove),this._canvas.removeEventListener("mouseup",this._onMouseUp),this._canvas.removeEventListener("wheel",this._onWheel)},e.prototype.triggerRepaint=function(){var t=this;this._frame=f.default.Browser.requestAnimationFrame((function(e){return t._frame=null,t._render.render(),t.triggerRepaint(),t}))},e}(s.default);e.default=h},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=function(t){function e(e,n){var r=t.call(this)||this;return r.offsetX=0,r.offsetY=0,r.start={},r.transform=e,r.render=n,r.on("wheel",r.wheelZoomCenter),r.on("mouseup",r.mouseupDetail),r.on("mousemove",r.mousemoveDetail),r.on("mousedown",r.mousedownDetail),r}return o(e,t),e.prototype.mouseupDetail=function(t){this.dragFlag=!1},e.prototype.mousemoveDetail=function(t){this.dragFlag&&(this.matrixRender({mov:{dx:t.x-this.start.x,dy:t.y-this.start.y}}),this.start.x=t.x,this.start.y=t.y)},e.prototype.mousedownDetail=function(t){this.dragFlag=!0,this.start.x=t.x,this.start.y=t.y},e.prototype.wheelZoomCenter=function(t){var e=-t.deltaY/100>0?1:-1;if(!(this.transform.maxZoom==this.transform.zoom&&e>0||this.transform.minZoom==this.transform.zoom&&e<0)){this.transform.zoom=this.transform.zoom+e;var n=Math.pow(2,e);this.matrixRender({scale:{scale:n,x:t.x,y:t.y}})}},e.prototype.matrixRender=function(t){this.transform.matrix(t),this.render.computed()},e.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},e.prototype.setCenter=function(t,e){},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this},e}(n(2).Evented);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return t.prototype.toArray=function(){return[this.lng,this.lat]},t.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(5)),i=n(1),s=n(3),a=function(){function t(t,e,n,r){this.tileSize=o.default.tileSize,this.maxValidLatitude=o.default.maxValidLatitude,this._type=r,this._minZoom=e||o.default.minZoom,this._maxZoom=n||o.default.maxZoom,this.width=t&&t.width,this.height=t&&t.height,this._center=new i.LngLat(0,0),this._zoom=0,this._projection=new i.WebMercator,this._bound=this._projection.bound,"2d"===r&&(this._ctx=t.getContext("2d"),this._context=new s.Context(this._ctx)),this._matrix=[256*Math.pow(2,this._zoom)/(this._bound.xmax-this._bound.xmin)*this._bound.xscale,0,0,256*Math.pow(2,this._zoom)/(this._bound.ymax-this._bound.ymin)*this._bound.yscale,this.width/2,this.height/2],this._ctx.setTransform(256*Math.pow(2,this._zoom)/(this._bound.xmax-this._bound.xmin)*this._bound.xscale,0,0,256*Math.pow(2,this._zoom)/(this._bound.ymax-this._bound.ymin)*this._bound.yscale,this.width/2,this.height/2),this.updateVisualBound()}return t.prototype.clone=function(){var e=new t(null,this._minZoom,this._maxZoom,this._type);return e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e._context=this._context,e},t.prototype.matrix=function(t){var e=this._ctx,n=e.getTransform();if(t.scale){var r=t.scale,o=r.scale,i=r.x,s=r.y,a=n.a,u=n.e,c=i,f=c;n.e=(f-o*(c-u)-u)/a;var h=n.d,l=n.f,d=s,m=d;n.f=(m-o*(d-l)-l)/h,n.a=o,n.d=o,this._ctx.transform(n.a,0,0,n.d,n.e,n.f)}if(t.mov){var _=t.mov,p=_.dx,y=_.dy;n.e=p/n.a,n.f=y/n.d,this._ctx.translate(n.e,n.f)}return e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.width,this.height),e.restore(),this.updateVisualBound(),n},Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bound",{get:function(){return this._bound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screenBound",{get:function(){return this._screenBound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VBound",{get:function(){return this._vbound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minZoom",{get:function(){return this._minZoom},set:function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxZoom",{get:function(){return this._maxZoom},set:function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},set:function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this._center},set:function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._center=t)},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){this.width=t,this.height=e},Object.defineProperty(t.prototype,"projection",{get:function(){return this._projection},set:function(t){this._projection=t},enumerable:!1,configurable:!0}),t.prototype.zoomScale=function(t){return Math.pow(2,t)},t.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},t.prototype.updateVisualBound=function(){var t=this._ctx.getTransform(),e=(0-t.e)/t.a,n=(0-t.f)/t.d,r=(this.width-t.e)/t.a,o=(this.height-t.f)/t.d;this._vbound=new i.Bound(Math.min(e,r),Math.min(n,o),Math.max(e,r),Math.max(n,o)),this._screenBound=new i.Bound(t.a*this._bound.xmin*this._bound.xscale+t.e,t.d*this._bound.ymin*this._bound.yscale+t.f,t.a*this._bound.xmax*this._bound.xscale+t.e,t.d*this._bound.ymax*this._bound.yscale+t.f)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._context=t,t instanceof CanvasRenderingContext2D?this.isgl=!1:this.isgl=!0}return Object.defineProperty(t.prototype,"ctx",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gl",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGl",{get:function(){return this.isgl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCtx",{get:function(){return!this.isgl},enumerable:!1,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=function(){function t(t){this._transform=t,t.context.isCtx&&(this._ctx=t.context.ctx),this._painter=new r.Painter(this._ctx,this._transform)}return t.prototype.render=function(){var t=this._transform.screenBound,e=this._ctx;e.save(),e.setTransform(1,0,0,1,0,0),e.lineWidth=1,e.fillStyle="#f0f0f0",e.beginPath(),e.fillRect(t.xmin,t.ymin,t.xmax-t.xmin,t.ymax-t.ymin),e.closePath(),e.stroke(),e.restore(),this._painter.render()},t.prototype.computed=function(){this._painter.computed()},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=function(){function t(t,e){this._transform=e,this._ctx=t,this._tilesCache=new r.TilesCache}return t.prototype.computed=function(){this._ctx;for(var t=this._transform.screenBound,e=Math.pow(2,this._transform.zoom),n=this._transform.width,r=this._transform.height,o=t.xmin,i=t.ymin,s=t.xmax,a=t.ymax,u=s-o,c=a-i,f=Math.floor(e/u*(Math.max(o,0)-o)),h=Math.ceil(e/u*(Math.min(s,n)-o)),l=Math.floor(e/c*(Math.max(i,0)-i)),d=Math.ceil(e/c*(Math.min(a,r)-i)),m=f;m<h;m++)for(var _=l;_<d;_++)this._tilesCache.add(this._transform.zoom,m,_,"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x="+m+"&y="+_+"&z="+this._transform.zoom);this._tilesCache.clearNoneTiles(this._transform.zoom)},t.prototype.render=function(){var t=this,e=this._ctx,n=this._transform.screenBound,r=Math.pow(2,this._transform.zoom),o=this._transform.width,i=this._transform.height,s=n.xmin,a=n.ymin,u=n.xmax,c=n.ymax,f=u-s,h=c-a,l=Math.floor(r/f*(Math.max(s,0)-s)),d=Math.ceil(r/f*(Math.min(u,o)-s)),m=Math.floor(r/h*(Math.max(a,0)-a)),_=Math.ceil(r/h*(Math.min(c,i)-a));this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._tilesCache.get(this._transform.zoom,l,d,m,_).forEach((function(n){var r=256*Math.pow(2,t._transform.zoom-n.zoom),o=n.x*r+s,i=n.y*r+a;t._ctx.drawImage(n.image,o,i,r,r),e.beginPath(),e.strokeStyle="#ff9999",e.fillStyle="#ff9999",e.lineWidth=1,e.rect(o,i,r,r),e.font="30px Verdana",e.fillText("("+n.zoom+","+n.x+","+n.y+")",o+r/2-100,i+r/2-15,200),e.closePath(),e.stroke()})),this._ctx.restore()},t}();e.default=o},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=r(n(0)),s=function(){function t(t,e,n,r){this._state=o.TileState.NONE,console.log(r),this._z=t,this._x=e,this._y=n,this._url=r,this._controller=new window.AbortController}return t.prototype.arrayBufferToImageBitmap=function(t){var e=this,n=new window.Blob([new Uint8Array(t)],{type:"image/png"});window.createImageBitmap(n).then((function(t){e._image=t,e._state=o.TileState.OK})).catch((function(t){return e._state=o.TileState.ERROR}))},t.prototype.arrayBufferToImage=function(t){var e=this,n=window.URL,r=new window.Image;this._image=r,this._image.onerror=function(){e._state=o.TileState.ERROR},this._image.onload=function(){e._state=o.TileState.OK,n.revokeObjectURL(r.src)};var i=new window.Blob([new Uint8Array(t)],{type:"image/png"});this._image.src=t.byteLength?n.createObjectURL(i):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="},t.prototype.load=function(){var t=this,e=new window.Request(this._url,{method:"GET",mode:"cors",signal:this._controller.signal});return fetch(this._url,e).then((function(e){e.ok&&e.arrayBuffer().then((function(e){i.default.Browser.offscreenCanvasSupported()?t.arrayBufferToImageBitmap(e):t.arrayBufferToImage(e)}))})).catch((function(t){return console.log(t)})),this},t.prototype.destroy=function(){return this._controller.abort(),delete this._z,delete this._x,delete this._y,delete this._url,delete this._controller,delete this._image,delete this._state,this},t.prototype.getParentKeys=function(){var t=new Array,e=this._x,n=this._y,r=this._z;if(0===r)return t;for(var o=r-1;o>=0;o--)n=Math.floor(n/2),e=Math.floor(e/2),t.push(o+"-"+e+"-"+n);return t},t.prototype.include=function(t,e,n){if(t<=this._z)return!1;var r=t-this._z,o=Math.pow(2,r);return this._x*o<e&&e<(this._x+1)*o-1&&this._y*o<n&&n<(this._y+1)*o-1},Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._state===o.TileState.OK},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFinish",{get:function(){return this._state===o.TileState.OK||this._state===o.TileState.ERROR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._z},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"image",{get:function(){return this._image},enumerable:!1,configurable:!0}),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.invert=e.makeInverse=e.isCanInvert=e.determinant=e.composeCssTransform=e.compose=e.translate=e.scale=e.rotate=e.transform=e.setFromArray=e.multiply=e.reset=e.makeScale=e.set=e.toCssString=e.create=void 0;var r=new Array(6);function o(){return Array.from([1,0,0,1,0,0])}function i(t){return"matrix("+t.join(", ")+")"}function s(t,e,n,r,o,i,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=s,t}function a(t,e,n){return s(t,e,0,0,n,0,0)}function u(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],u=e[0],c=e[1],f=e[2],h=e[3],l=e[4],d=e[5];return t[0]=n*u+o*c,t[1]=r*u+i*c,t[2]=n*f+o*h,t[3]=r*f+i*h,t[4]=n*l+o*d+s,t[5]=r*l+i*d+a,t}function c(t,e,n,r,o,i,s,a){var u=Math.sin(i),c=Math.cos(i);return t[0]=r*c,t[1]=o*u,t[2]=-r*u,t[3]=o*c,t[4]=s*r*c-a*r*u+e,t[5]=s*o*u+a*o*c+n,t}function f(t){return t[0]*t[3]-t[1]*t[2]}function h(t,e){var n=f(e),r=e[0],o=e[1],i=e[2],s=e[3],a=e[4],u=e[5];return t[0]=s/n,t[1]=-o/n,t[2]=-i/n,t[3]=r/n,t[4]=(i*u-s*a)/n,t[5]=-(r*u-o*a)/n,t}e.create=o,e.toCssString=i,e.set=s,e.makeScale=a,e.reset=function(t){return s(t,1,0,0,1,0,0)},e.multiply=u,e.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.transform=function(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e},e.rotate=function(t,e){var n=Math.cos(e),o=Math.sin(e);return u(t,s(r,n,o,-o,n,0,0))},e.scale=function(t,e,n){return u(t,a(r,e,n))},e.translate=function(t,e,n){return u(t,s(r,1,0,0,1,e,n))},e.compose=c,e.composeCssTransform=function(t,e,n,r,s,a,u){return i(c(o(),t,e,n,r,s,a,u))},e.determinant=f,e.isCanInvert=function(t){return 0!=f(t)},e.makeInverse=h,e.invert=function(t){return h(t,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.offscreenCanvasSupported=e.requestAnimationFrame=void 0;var r,o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;e.requestAnimationFrame=function(t){var e=o(t);return{cancel:function(){return i(e)}}},e.offscreenCanvasSupported=function(){return null==r&&(r=window.OffscreenCanvas&&new window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof window.createImageBitmap),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=e.extend=void 0,e.extend=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r];for(var s in i)t[s]=i[s]}return t},e.bindAll=function(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=function(){function t(){this._key2tile=new Map}return t.prototype.add=function(t,e,n,o){var i=t+"-"+e+"-"+n;if(!this._key2tile.has(i)){var s=new r.Tile(t,e,n,o).load();this._key2tile.set(i,s)}},t.prototype.get=function(t,e,n,r,o){for(var i=[],s=e;s<=n;s++)for(var a=r;a<=o;a++){var u=this.getLoadTile(t,s,a);u&&i.push(u)}return i.sort((function(t,e){return t.zoom-e.zoom})),i},t.prototype.clearNoneTiles=function(t){var e=this;this.clearHandleTime&&window.clearTimeout(this.clearHandleTime),this.clearHandleTime=setTimeout((function(){var n=new Array;e._key2tile.forEach((function(e,o,i){e.zoom!==t&&e.state==r.TileState.NONE&&n.push(o)})),n.forEach((function(t){e._key2tile.get(t).destroy(),e._key2tile.delete(t)}))}),30)},t.prototype.getLoadTile=function(t,e,n){var r=null,o=t+"-"+e+"-"+n;if(this._key2tile.has(o)){var i=this._key2tile.get(o);if(i.isLoaded)r=i;else for(var s=i.getParentKeys(),a=0;a<s.length;a++){var u=s[a],c=this._key2tile.get(u);if(c&&c.isLoaded){r=c;break}}}return r},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(){}return Object.defineProperty(t.prototype,"bound",{get:function(){return new r.Bound(-Math.PI*t.R,Math.PI*t.R,Math.PI*t.R,-Math.PI*t.R)},enumerable:!1,configurable:!0}),t.prototype.project=function(e){var n=e[0],r=e[1],o=Math.PI/180,i=Math.sin(r*o);return[t.R*n*o,t.R*Math.log((1+i)/(1-i))/2]},t.prototype.unproject=function(e){var n=e[0],r=e[1],o=180/Math.PI;return[n*o/t.R,(2*Math.atan(Math.exp(r/t.R))-Math.PI/2)*o]},t.R=6378137,t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n,r){this._xscale=1,this._yscale=1,this._xmin=Math.min(t,n),this._ymin=Math.min(e,r),this._xmax=Math.max(t,n),this._ymax=Math.max(e,r),this._xscale=t<=n?1:-1,this._yscale=e<=r?1:-1}return Object.defineProperty(t.prototype,"xmin",{get:function(){return this._xmin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ymin",{get:function(){return this._ymin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xmax",{get:function(){return this._xmax},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ymax",{get:function(){return this._ymax},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xscale",{get:function(){return this._xscale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yscale",{get:function(){return this._yscale},enumerable:!1,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(0)),i=function(){function t(t,e){void 0===e&&(e={}),o.default.Objects.extend(this,e),this._type=t}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!1,configurable:!0}),t}();e.default=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),a=i(n(0)),u=function(t){function e(e,n){return void 0===n&&(n={}),t.call(this,"error",a.default.Objects.extend({error:e},n))||this}return o(e,t),e}(s.Event);e.default=u},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(0)),i=n(2),s=function(){function t(){}return t._addEventListener=function(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))},t._removeEventListener=function(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}},t.prototype.on=function(e,n){return this._listeners=this._listeners||{},t._addEventListener(e,n,this._listeners),this},t.prototype.off=function(e,n){return t._removeEventListener(e,n,this._listeners),t._removeEventListener(e,n,this._oneTimeListeners),this},t.prototype.once=function(e,n){return this._oneTimeListeners=this._oneTimeListeners||{},t._addEventListener(e,n,this._oneTimeListeners),this},t.prototype.fire=function(e,n){"string"==typeof e&&(e=new i.Event(e,n||{}));var r=e.type;if(this.listens(r)){e.target=this;for(var s=0,a=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];s<a.length;s++){(f=a[s]).call(this,e)}for(var u=0,c=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];u<c.length;u++){var f=c[u];t._removeEventListener(r,f,this._oneTimeListeners),f.call(this,e)}var h=this._eventedParent;h&&(o.default.Objects.extend(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),h.fire(e))}else e instanceof ErrorEvent&&console.error(e.error);return this},t.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},t.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},t}();e.default=s}]);