!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Bound=e.Constant=e.WebMercator=e.Transform=e.LngLat=void 0;var r=o(n(8));e.LngLat=r.default;var i=o(n(9));e.Transform=i.default;var s=o(n(16));e.WebMercator=s.default;var a=o(n(17));e.Bound=a.default;var u=o(n(3));e.Constant=u.default},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TitleSource=e.Painter=e.Render=e.Context=void 0;var r=o(n(10));e.Context=r.default;var i=o(n(11));e.Render=i.default;var s=o(n(12));e.Painter=s.default;var a=o(n(15));e.TitleSource=a.default},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TileState=e.TilesCache=e.Tile=void 0;var r=o(n(13));e.Tile=r.default;var i=o(n(14));e.TilesCache=i.default,function(t){t[t.NONE=0]="NONE",t[t.LOADING=2]="LOADING",t[t.OK=1]="OK",t[t.ERROR=-1]="ERROR"}(e.TileState||(e.TileState={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={minZoom:0,maxZoom:0,maxValidLatitude:85.05112877980659,maxValidlongitude:180,maxMercator:20037508.3427892,tileSize:256,earthRadius:6371008.8}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Evented=e.ErrorEvent=e.Event=void 0;var i=n(18);function s(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function a(t,e,n){if(n&&n[t]){var o=n[t].indexOf(e);-1!==o&&n[t].splice(o,1)}}var u=function(t,e){void 0===e&&(e={}),i.extend(this,e),this.type=t};e.Event=u;var c=function(t){function e(e,n){return void 0===n&&(n={}),t.call(this,"error",i.extend({error:e},n))||this}return r(e,t),e}(u);e.ErrorEvent=c;var h=function(){function t(){}return t.prototype.on=function(t,e){return this._listeners=this._listeners||{},s(t,e,this._listeners),this},t.prototype.off=function(t,e){return a(t,e,this._listeners),a(t,e,this._oneTimeListeners),this},t.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},s(t,e,this._oneTimeListeners),this},t.prototype.fire=function(t,e){"string"==typeof t&&(t=new u(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var o=0,r=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];o<r.length;o++){(f=r[o]).call(this,t)}for(var s=0,h=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];s<h.length;s++){var f;a(n,f=h[s],this._oneTimeListeners),f.call(this,t)}var l=this._eventedParent;l&&(i.extend(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(t))}else t instanceof c&&console.error(t.error);return this},t.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},t.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},t}();e.Evented=h},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(6));e.default={map:new r.default({container:"app",type:"2d"})}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(7)),a=n(19),u=n(0),c=n(1),h=i(n(20)),f=function(t){function e(e){var n=this;if(null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");Number.isInteger(e.minZoom)&&Number.isInteger(e.maxZoom)||(e.minZoom=0,e.maxZoom=22);var o=document.createElement("canvas");o.style.cssText="height: 100%; width: 100%";var r=null;if("string"==typeof e.container){if(!(r=window.document.getElementById(e.container)))throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");r=e.container}o.width=r.clientWidth,o.height=r.clientHeight,r.appendChild(o);var i=new u.Transform(o,e.minZoom,e.maxZoom,e.type),s=new c.Render(i);return(n=t.call(this,i,s)||this)._options=e,n._canvas=o,n._container=r,n._bind(),n.resize(),n._render=s,n.triggerRepaint(),n.on("refresh",n.triggerRepaint),n}return r(e,t),e.prototype.resize=function(t){this.transform.resize(this._container.clientWidth,this._container.clientHeight)},e.prototype._update=function(t){},e.prototype._bind=function(){this._canvas.addEventListener("click",this._onClick.bind(this)),this._canvas.addEventListener("dblclick",this._onDoubleClick.bind(this)),this._canvas.addEventListener("mousedown",this._onMouseDown.bind(this)),this._canvas.addEventListener("mousemove",this._onMouseMove.bind(this)),this._canvas.addEventListener("mouseup",this._onMouseUp.bind(this)),this._canvas.addEventListener("wheel",this._onWheel.bind(this))},e.prototype._onClick=function(t){this.fire(new a.Event("click",t))},e.prototype._onDoubleClick=function(t){this.fire(new a.Event("dblclick",t))},e.prototype._onMouseDown=function(t){this.fire(new a.Event("mousedown",t))},e.prototype._onMouseMove=function(t){this.fire(new a.Event("mousemove",t))},e.prototype._onMouseUp=function(t){this.fire(new a.Event("mouseup",t))},e.prototype._onWheel=function(t){this.fire(new a.Event("wheel",t))},e.prototype.destroy=function(){this._canvas.removeEventListener("click",this._onClick),this._canvas.removeEventListener("dblclick",this._onDoubleClick),this._canvas.removeEventListener("mousedown",this._onMouseDown),this._canvas.removeEventListener("mousemove",this._onMouseMove),this._canvas.removeEventListener("mouseup",this._onMouseUp),this._canvas.removeEventListener("wheel",this._onWheel)},e.prototype.triggerRepaint=function(){var t=this;this._frame=h.default.Browser.requestAnimationFrame((function(e){return t._frame=null,t._render.render(),t.triggerRepaint(),t}))},e}(s.default);e.default=f},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),s=function(t){function e(e,n){var o=t.call(this)||this;return o.offsetX=0,o.offsetY=0,o.start={},o.transform=e,o.render=n,o.on("wheel",o.wheelZoomCenter),o.on("mouseup",o.mouseupDetail),o.on("mousemove",o.mousemoveDetail),o.on("mousedown",o.mousedownDetail),o}return r(e,t),e.prototype.mouseupDetail=function(t){this.dragFlag=!1},e.prototype.mousemoveDetail=function(t){this.dragFlag&&(this.matrixRender({mov:{dx:t.x-this.start.x,dy:t.y-this.start.y}}),this.start.x=t.x,this.start.y=t.y)},e.prototype.mousedownDetail=function(t){this.dragFlag=!0,this.start.x=t.x,this.start.y=t.y},e.prototype.wheelZoomCenter=function(t){var e=-t.deltaY/100>0?1:-1;if(!(this.transform.maxZoom==this.transform.zoom&&e>0||this.transform.minZoom==this.transform.zoom&&e<0)){this.transform.zoom=this.transform.zoom+e;var n=Math.pow(2,e);this.matrixRender({scale:{scale:n,x:t.x,y:t.y}})}},e.prototype.matrixRender=function(t){this.transform.matrix(t),this.render.computed()},e.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},e.prototype.setCenter=function(t,e){},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this},e}(n(4).Evented);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return t.prototype.toArray=function(){return[this.lng,this.lat]},t.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},t}();e.default=o},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(3)),i=n(0),s=n(1),a=function(){function t(t,e,n,o){this.tileSize=r.default.tileSize,this.maxValidLatitude=r.default.maxValidLatitude,this._type=o,this._minZoom=e||r.default.minZoom,this._maxZoom=n||r.default.maxZoom,this.width=t&&t.width,this.height=t&&t.height,this._center=new i.LngLat(0,0),this._zoom=0,this._projection=new i.WebMercator,this._bound=this._projection.bound,"2d"===o&&(this._ctx=t.getContext("2d"),this._context=new s.Context(this._ctx)),this._matrix=[256*Math.pow(2,this._zoom)/(this._bound.xmax-this._bound.xmin)*this._bound.xscale,0,0,256*Math.pow(2,this._zoom)/(this._bound.ymax-this._bound.ymin)*this._bound.yscale,this.width/2,this.height/2],this._ctx.setTransform(256*Math.pow(2,this._zoom)/(this._bound.xmax-this._bound.xmin)*this._bound.xscale,0,0,256*Math.pow(2,this._zoom)/(this._bound.ymax-this._bound.ymin)*this._bound.yscale,this.width/2,this.height/2),this.updateVisualBound()}return t.prototype.clone=function(){var e=new t(null,this._minZoom,this._maxZoom,this._type);return e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e._context=this._context,e},t.prototype.matrix=function(t){var e=this._ctx,n=e.getTransform();if(t.scale){var o=t.scale,r=o.scale,i=o.x,s=o.y,a=n.a,u=n.e,c=i,h=c;n.e=(h-r*(c-u)-u)/a;var f=n.d,l=n.f,m=s,d=m;n.f=(d-r*(m-l)-l)/f,n.a=r,n.d=r,this._ctx.transform(n.a,0,0,n.d,n.e,n.f)}if(t.mov){var p=t.mov,_=p.dx,y=p.dy;n.e=_/n.a,n.f=y/n.d,this._ctx.translate(n.e,n.f)}return e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.width,this.height),e.restore(),this.updateVisualBound(),n},Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bound",{get:function(){return this._bound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screenBound",{get:function(){return this._screenBound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VBound",{get:function(){return this._vbound},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minZoom",{get:function(){return this._minZoom},set:function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxZoom",{get:function(){return this._maxZoom},set:function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},set:function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this._center},set:function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._center=t)},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){this.width=t,this.height=e},Object.defineProperty(t.prototype,"projection",{get:function(){return this._projection},set:function(t){this._projection=t},enumerable:!1,configurable:!0}),t.prototype.zoomScale=function(t){return Math.pow(2,t)},t.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},t.prototype.updateVisualBound=function(){var t=this._ctx.getTransform(),e=(0-t.e)/t.a,n=(0-t.f)/t.d,o=(this.width-t.e)/t.a,r=(this.height-t.f)/t.d;this._vbound=new i.Bound(Math.min(e,o),Math.min(n,r),Math.max(e,o),Math.max(n,r)),this._screenBound=new i.Bound(t.a*this._bound.xmin*this._bound.xscale+t.e,t.d*this._bound.ymin*this._bound.yscale+t.f,t.a*this._bound.xmax*this._bound.xscale+t.e,t.d*this._bound.ymax*this._bound.yscale+t.f)},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this._context=t,t instanceof CanvasRenderingContext2D?this.isgl=!1:this.isgl=!0}return Object.defineProperty(t.prototype,"ctx",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gl",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGl",{get:function(){return this.isgl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCtx",{get:function(){return!this.isgl},enumerable:!1,configurable:!0}),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=function(){function t(t){this._transform=t,t.context.isCtx&&(this._ctx=t.context.ctx),this._painter=new o.Painter(this._ctx,this._transform)}return t.prototype.render=function(){var t=this._transform.screenBound,e=this._ctx;e.save(),e.setTransform(1,0,0,1,0,0),e.lineWidth=1,e.fillStyle="#f0f0f0",e.beginPath(),e.fillRect(t.xmin,t.ymin,t.xmax-t.xmin,t.ymax-t.ymin),e.closePath(),e.stroke(),e.restore(),this._painter.render()},t.prototype.computed=function(){this._painter.computed()},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(2),i=function(){function t(t,e){this._transform=e,this._ctx=t,this._titleSource=new o.TitleSource,this._tilesCache=new r.TilesCache}return t.prototype.computed=function(){this._ctx;for(var t=this._transform.screenBound,e=Math.pow(2,this._transform.zoom),n=this._transform.width,o=this._transform.height,r=t.xmin,i=t.ymin,s=t.xmax,a=t.ymax,u=s-r,c=a-i,h=Math.floor(e/u*(Math.max(r,0)-r)),f=Math.ceil(e/u*(Math.min(s,n)-r)),l=Math.floor(e/c*(Math.max(i,0)-i)),m=Math.ceil(e/c*(Math.min(a,o)-i)),d=h;d<f;d++)for(var p=l;p<m;p++)this._tilesCache.add(this._transform.zoom,d,p,"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x="+d+"&y="+p+"&z="+this._transform.zoom)},t.prototype.render=function(){var t=this,e=this._ctx,n=this._transform.screenBound,o=Math.pow(2,this._transform.zoom),r=this._transform.width,i=this._transform.height,s=n.xmin,a=n.ymin,u=n.xmax,c=n.ymax,h=u-s,f=c-a,l=Math.floor(o/h*(Math.max(s,0)-s)),m=Math.ceil(o/h*(Math.min(u,r)-s)),d=Math.floor(o/f*(Math.max(a,0)-a)),p=Math.ceil(o/f*(Math.min(c,i)-a));this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._tilesCache.get(this._transform.zoom,l,m,d,p).forEach((function(n){var o=256*Math.pow(2,t._transform.zoom-n.zoom),r=n.x*o+s,i=n.y*o+a;t._ctx.drawImage(n.image,r,i,o,o),e.beginPath(),e.strokeStyle="#ff9999",e.fillStyle="#ff9999",e.lineWidth=1,e.rect(r,i,o,o),e.font="30px Verdana",e.fillText("("+n.zoom+","+n.x+","+n.y+")",r+o/2-100,i+o/2-15,200),e.closePath(),e.stroke()})),this._ctx.restore()},t.prototype.loadImage=function(t,e,n,o,r){var i=this;return new Promise((function(s,a){i._titleSource.getTitle(t,e,n,(function(t,e){t?console.error(t):(i._ctx.save(),i._ctx.setTransform(1,0,0,1,0,0),i._ctx.drawImage(e,o,r,256,256),i._ctx.restore(),s())}))}))},t.draw=function(t,e){t.save(),t.setTransform(1,0,0,1,0,0),e.forEach((function(e){t.drawImage(e.img,e.offsetX,e.offsetY,256,256)})),t.restore()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=function(){function t(t,e,n,r){this._state=o.TileState.NONE,this._z=t,this._x=e,this._y=n,this._url=r}return t.prototype.load=function(){var t=this;return this._image=new Image(256,256),this._image.onerror=function(){t._state=o.TileState.ERROR},this._image.onload=function(){t._state=o.TileState.OK},this._state=o.TileState.LOADING,this._image.src=this._url,this},t.prototype.getParentKeys=function(){var t=new Array,e=this._x,n=this._y,o=this._z;if(0===o)return t;for(var r=o-1;r>=0;r--)n=Math.floor(n/2),e=Math.floor(e/2),t.push(r+"-"+e+"-"+n);return t},t.prototype.include=function(t,e,n){if(t<=this._z)return!1;var o=t-this._z,r=Math.pow(2,o);return this._x*r<e&&e<(this._x+1)*r-1&&this._y*r<n&&n<(this._y+1)*r-1},Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._state===o.TileState.OK},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFinish",{get:function(){return this._state===o.TileState.OK||this._state===o.TileState.ERROR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._z},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"image",{get:function(){return this._image},enumerable:!1,configurable:!0}),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=function(){function t(){this._tiles=new Array,this._key2tile=new Map}return t.prototype.loadTiles=function(){this._tiles.filter((function(t){return t.state===o.TileState.NONE})).forEach((function(t){t.load()}))},t.prototype.add=function(t,e,n,r){var i=t+"-"+e+"-"+n;if(!this._key2tile.has(i)){var s=new o.Tile(t,e,n,r).load();this._tiles.push(s),this._key2tile.set(i,s)}},t.prototype.get=function(t,e,n,o,r){for(var i=[],s=e;s<=n;s++)for(var a=o;a<=r;a++){var u=this.getLoadTile(t,s,a);u&&i.push(u)}return i.sort((function(t,e){return t.zoom-e.zoom})),i},t.prototype.isAllFinishToZoom=function(t){return 0===this._tiles.filter((function(e){return e.zoom===t&&!e.isFinish})).length},t.prototype.getLoadTile=function(t,e,n){var o=null,r=t+"-"+e+"-"+n;if(this._key2tile.has(r)){var i=this._key2tile.get(r);if(i.isLoaded)o=i;else for(var s=i.getParentKeys(),a=0;a<s.length;a++){var u=s[a],c=this._key2tile.get(u);if(c&&c.isLoaded){o=c;break}}}return o},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this._imageCatch={}}return t.prototype.getTitle=function(t,e,n,o){var r=this,i=t+"-"+e+"-"+n;if(this._imageCatch[i])this.createdImage(this._imageCatch[i],o);else{var s=this.createdRequest(t,e,n),a=Date.now();window.fetch(s).then((function(t){if(!t.ok)return o(new Error(s.url));var e=t.clone();t.arrayBuffer().then((function(t){e&&a&&(r._imageCatch[i]=t,r.createdImage(t,o))}))})).catch((function(t){20!==t.code&&o(new Error(t.message))}))}},t.prototype.createdImage=function(t,e){var n=new window.Blob([new Uint8Array(t)],{type:"image/png"});window.createImageBitmap(n).then((function(t){e(null,t)})).catch((function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))},t.prototype.createdRequest=function(t,e,n){var o=new Headers;o.append("accept","image/webp,*/*"),o.append("Referer","http://localhost:10248/"),o.append("origin","http://localhost:10248"),o.append("accept-language","zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"),o.append("Access-Control-Allow-Origin","*"),o.append("accept-encoding","gzip, deflate, br"),o.append("sec-fetch-dest","empty"),o.append("sec-fetch-mode","cors"),o.append("sec-fetch-sitee","cross-site"),o.append("sec-ch-ua-mobile","?0"),o.append("authority","tile.openstreetmap.org"),o.append("User-Agent","Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.45 Safari/537.36 Edg/84.0.522.20");var r="http://localhost:39999/map/rizhao/google/"+t+"/"+e+"/"+n+".jpeg";return new window.Request(r,{method:"GET",mode:"cors",signal:(new window.AbortController).signal})},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=function(){function t(){}return Object.defineProperty(t.prototype,"bound",{get:function(){return new o.Bound(-Math.PI*t.R,Math.PI*t.R,Math.PI*t.R,-Math.PI*t.R)},enumerable:!1,configurable:!0}),t.prototype.project=function(e){var n=e[0],o=e[1],r=Math.PI/180,i=Math.sin(o*r);return[t.R*n*r,t.R*Math.log((1+i)/(1-i))/2]},t.prototype.unproject=function(e){var n=e[0],o=e[1],r=180/Math.PI;return[n*r/t.R,(2*Math.atan(Math.exp(o/t.R))-Math.PI/2)*r]},t.R=6378137,t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,n,o){this._xscale=1,this._yscale=1,this._xmin=Math.min(t,n),this._ymin=Math.min(e,o),this._xmax=Math.max(t,n),this._ymax=Math.max(e,o),this._xscale=t<=n?1:-1,this._yscale=e<=o?1:-1}return Object.defineProperty(t.prototype,"xmin",{get:function(){return this._xmin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ymin",{get:function(){return this._ymin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xmax",{get:function(){return this._xmax},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ymax",{get:function(){return this._ymax},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xscale",{get:function(){return this._xscale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yscale",{get:function(){return this._yscale},enumerable:!1,configurable:!0}),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=e.extend=void 0,e.extend=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=0,r=e;o<r.length;o++){var i=r[o];for(var s in i)t[s]=i[s]}return t},e.bindAll=function(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4);Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return o.Event}})},function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(21)),a=i(n(22));e.default={Matrix2D:s,Browser:a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.invert=e.makeInverse=e.isCanInvert=e.determinant=e.composeCssTransform=e.compose=e.translate=e.scale=e.rotate=e.transform=e.setFromArray=e.multiply=e.reset=e.makeScale=e.set=e.toCssString=e.create=void 0;var o=new Array(6);function r(){return Array.from([1,0,0,1,0,0])}function i(t){return"matrix("+t.join(", ")+")"}function s(t,e,n,o,r,i,s){return t[0]=e,t[1]=n,t[2]=o,t[3]=r,t[4]=i,t[5]=s,t}function a(t,e,n){return s(t,e,0,0,n,0,0)}function u(t,e){var n=t[0],o=t[1],r=t[2],i=t[3],s=t[4],a=t[5],u=e[0],c=e[1],h=e[2],f=e[3],l=e[4],m=e[5];return t[0]=n*u+r*c,t[1]=o*u+i*c,t[2]=n*h+r*f,t[3]=o*h+i*f,t[4]=n*l+r*m+s,t[5]=o*l+i*m+a,t}function c(t,e,n,o,r,i,s,a){var u=Math.sin(i),c=Math.cos(i);return t[0]=o*c,t[1]=r*u,t[2]=-o*u,t[3]=r*c,t[4]=s*o*c-a*o*u+e,t[5]=s*r*u+a*r*c+n,t}function h(t){return t[0]*t[3]-t[1]*t[2]}function f(t,e){var n=h(e),o=e[0],r=e[1],i=e[2],s=e[3],a=e[4],u=e[5];return t[0]=s/n,t[1]=-r/n,t[2]=-i/n,t[3]=o/n,t[4]=(i*u-s*a)/n,t[5]=-(o*u-r*a)/n,t}e.create=r,e.toCssString=i,e.set=s,e.makeScale=a,e.reset=function(t){return s(t,1,0,0,1,0,0)},e.multiply=u,e.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.transform=function(t,e){var n=e[0],o=e[1];return e[0]=t[0]*n+t[2]*o+t[4],e[1]=t[1]*n+t[3]*o+t[5],e},e.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e);return u(t,s(o,n,r,-r,n,0,0))},e.scale=function(t,e,n){return u(t,a(o,e,n))},e.translate=function(t,e,n){return u(t,s(o,1,0,0,1,e,n))},e.compose=c,e.composeCssTransform=function(t,e,n,o,s,a,u){return i(c(r(),t,e,n,o,s,a,u))},e.determinant=h,e.isCanInvert=function(t){return 0!=h(t)},e.makeInverse=f,e.invert=function(t){return f(t,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.requestAnimationFrame=void 0;var o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;e.requestAnimationFrame=function(t){var e=o(t);return{cancel:function(){return r(e)}}}}]);